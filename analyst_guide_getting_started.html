<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Getting started • wpa</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>




<meta property="og:title" content="Getting started" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">wpa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Analyst Guide
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="analyst_guide.html">Introduction</a>
    </li>
    <li>
      <a href="analyst_guide_getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="analyst_guide_summary.html">Summary Functions</a>
    </li>
    <li>
      <a href="analyst_guide_distribution.html">Distribution Functions</a>
    </li>
    <li>
      <a href="analyst_guide_trend.html">Trend Functions</a>
    </li>
    <li>
      <a href="analyst_guide_network.html">Network Functions</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Contribute
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="CONTRIBUTING.html">Contributor Guide</a>
    </li>
    <li>
      <a href="developer_guide.html">Developer Guide</a>
    </li>
    <li>
      <a href="reporting_security_issues.html">Reporting Security Issues</a>
    </li>
    <li>
      <a href="package_structure.html">Package Structure</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="articles/intro-to-wpa.html">Introduction to {wpa}</a>
    </li>
    <li>
      <a href="articles/text-mining-capabilities.html">Text-mining Meeting Subject lines</a>
    </li>
    <li>
      <a href="articles/best-practices.html">Best Practices when using wpa</a>
    </li>
    <li>
      <a href="articles/IV-report.html">Introduction to Information Value</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/microsoft/wpa/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Getting started</h1>
    </div>

<div id="getting-started" class="section level1">

<p>This section contains the detailed installation instructions, and a first overview on how functions work in the <strong>wpa</strong> package.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The latest stable version of <strong>wpa</strong> is available in Github. You can automatically download and install it in your local device, by running the following code in R:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Check if devtools is installed, if not then install it</span>
<span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="st">"devtools"</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/utils/installed.packages.html">installed.packages</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_git</span><span class="op">(</span>url <span class="op">=</span> <span class="st">"https://github.com/microsoft/wpa.git"</span><span class="op">)</span></code></pre></div>
<p>If you are prompted for a message to update your packages, we recommend updating all CRAN packages, unless you are aware that there are any significant breaking changes in the new packages that would be updated. You may need to restart your R Session both <strong>before</strong> and <strong>after</strong> the package updates prior to re-running the above code.</p>
<p><strong>wpa</strong> is not yet released on CRAN, and therefore <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> will not work. If you prefer to proceed with a local installation, you can download a installation file <a href="https://github.com/microsoft/wpa/releases">here</a>.</p>
</div>
<div id="loading-the-wpa-package" class="section level2">
<h2 class="hasAnchor">
<a href="#loading-the-wpa-package" class="anchor"></a>Loading the wpa package</h2>
<p>Once the installation is complete, you can load the package with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/microsoft/wpa">wpa</a></span><span class="op">)</span></code></pre></div>
<p>You only need to install the package once; however, you will need to load it every time you start a new R session.</p>
<p><strong>wpa</strong> is designed to work side by side with other Data Science R packages from <a href="https://www.tidyverse.org/">tidyverse</a>. We generally recommend to load that package too:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></code></pre></div>
</div>
<div id="importing-workplace-analytics-data" class="section level2">
<h2 class="hasAnchor">
<a href="#importing-workplace-analytics-data" class="anchor"></a>Importing Workplace Analytics data</h2>
<p>To read data into R, you can use the <code><a href="reference/import_wpa.html">import_wpa()</a></code> function. This function accepts any query file in CSV format and performs variable type conversions optimized for Workplace Analytics.</p>
<p>Assuming you have a file called <em>myquery.csv</em> on your desktop, you can import it into R using:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">"C:/Users/myuser/Desktop/"</span><span class="op">)</span>
<span class="va">person_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/import_wpa.html">import_wpa</a></span><span class="op">(</span><span class="st">"myquery.csv"</span><span class="op">)</span> </code></pre></div>
<p>In the code above, <code>set_wd()</code> will set the working directory to the Desktop, then <code><a href="reference/import_wpa.html">import_wpa()</a></code> will read the source CSV. Note that file paths in R must be provided as a forward-slash (<code><a href="https://rdrr.io/r/base/Arithmetic.html">/</a></code>) or escaped back-slash (<code>\\</code>).</p>
<p>As an alternative to <code>set_wd()</code>, you may also consider using <a href="https://martinctc.github.io/blog/rstudio-projects-and-working-directories-a-beginner's-guide/">RStudio Projects</a>, which enables you to use relative links within the working directory <em>instead</em> of <code>set_wd()</code> and full file paths.</p>
<p>The contents will be saved to the object person_data (using <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> as an <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/assignOps.html">Assignment Operator</a>).</p>
</div>
<div id="demo-data" class="section level2">
<h2 class="hasAnchor">
<a href="#demo-data" class="anchor"></a>Demo data</h2>
<p>The <strong>wpa</strong> package includes a set of demo Workplace Analytics datasets that you can use to explore the functionality of this package. We will also use them extensively in this guide. The included datasets are:</p>
<ol>
<li>
<code>sq_data</code>: A Standard Person Query</li>
<li>
<code>dv_data</code>: A Standard Person Query with outliers</li>
<li>
<code>mt_data</code>: A Standard Meeting Query</li>
<li>
<code>em_data</code>: An Hourly Collaboration Query</li>
<li>
<code>g2g_data</code>: A Group-to-Group Query</li>
</ol>
<p>See <a href="https://docs.microsoft.com/en-us/Workplace-Analytics/tutorials/query-basics">here</a> for a full documentation of the queries in Workplace Analytics.</p>
</div>
<div id="exploring-a-person-query" class="section level2">
<h2 class="hasAnchor">
<a href="#exploring-a-person-query" class="anchor"></a>Exploring a person query</h2>
<p>We can explore the <code>sq_data</code> person query using the <code><a href="reference/hrvar_count.html">analysis_scope()</a></code> function. This function creates a basic bar plot, with the count of the distinct individuals for different group (groups defined by an HR attribute in your query).</p>
<p>For example, if we want to know the number of individuals in <code>sq_data</code> per organization, we can use:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/hrvar_count.html">analysis_scope</a></span><span class="op">(</span><span class="va">sq_data</span>, hrvar <span class="op">=</span> <span class="st">"Organization"</span><span class="op">)</span></code></pre></div>
<p>This function requires you to provide a person query (<code>sq_data</code>) and specify which HR variable will be used to slice the data (<code>hrvar</code>). As we have indicated that the <code>Organization</code> attribute should be used, the resulting bar chart will show the number of individuals for each organization in the database.</p>
<p>The same R code can be written using a Forward-Pipe Operator (<code><a href="reference/%&gt;%.html">%&gt;%</a></code>) to feed our query into the funciton. The notation is common in R data science applications, and is the one we will use moving forward.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op">%&gt;%</span> <span class="fu"><a href="reference/hrvar_count.html">analysis_scope</a></span><span class="op">(</span>hrvar <span class="op">=</span> <span class="st">"Organization"</span><span class="op">)</span> </code></pre></div>
<p>Let’s now use this function to explore of other groups. For example:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op">%&gt;%</span> <span class="fu"><a href="reference/hrvar_count.html">analysis_scope</a></span><span class="op">(</span>hrvar <span class="op">=</span> <span class="st">"LevelDesignation"</span><span class="op">)</span>
<span class="va">sq_data</span> <span class="op">%&gt;%</span> <span class="fu"><a href="reference/hrvar_count.html">analysis_scope</a></span><span class="op">(</span>hrvar <span class="op">=</span> <span class="st">"TimeZone"</span><span class="op">)</span></code></pre></div>
<p>We can expand this analysis by using the <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter()</a></code> function from <strong>dplyr</strong>. This will allows us to drill into a specific subset of the data. This is where the Forward-Pipe Operators (<code><a href="reference/%&gt;%.html">%&gt;%</a></code>) become very useful, as we can write a single line that takes the original data, applies a filter, and then creates the plot:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op">%&gt;%</span>
    <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">LevelDesignation</span> <span class="op">==</span> <span class="st">"Support"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu"><a href="reference/hrvar_count.html">analysis_scope</a></span><span class="op">(</span>hrvar <span class="op">=</span> <span class="st">"Organization"</span><span class="op">)</span></code></pre></div>
<p>Most functions in <strong>wpa</strong> create plot by default, but can change their behaviour by adding a <code>return</code> argument. If you add <code>return="table"</code> to this function it will now produce a table with the count of the distinct individuals by group.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op">%&gt;%</span> <span class="fu"><a href="reference/hrvar_count.html">analysis_scope</a></span><span class="op">(</span>hrvar <span class="op">=</span> <span class="st">"LevelDesignation"</span>, return <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span></code></pre></div>
<p>If at any point you would like to understand more about the functions, you can:</p>
<ul>
<li>Run in the R console with the function name prefixed with a question mark, e.g. <code><a href="reference/hrvar_count.html">?analysis_scope</a></code>
</li>
<li>View the underlying source code of the function with <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code>, e.g. <code><a href="https://rdrr.io/r/utils/View.html">View(analysis_scope)</a></code>
</li>
<li>Visit the reference page online: <a href="https://microsoft.github.io/wpa/reference" class="uri">https://microsoft.github.io/wpa/reference</a>
</li>
</ul>
</div>
<div id="function-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#function-structure" class="anchor"></a>Function structure</h2>
<p>All functions in <strong>wpa</strong> follow a similar behaviour, including many common arguments. The following illustrates the basic API of standard analysis functions:</p>
<p><img src="https://raw.githubusercontent.com/microsoft/wpa/main/man/figures/api-demo.png" align="center" width="80%"></p>
<p>So far we have explored the <code>hrvar</code> and <code>return</code> arguments. We will use the <code>mingroup</code> in the next section.</p>
</div>
<div id="exporting-plots-and-tables" class="section level2">
<h2 class="hasAnchor">
<a href="#exporting-plots-and-tables" class="anchor"></a>Exporting plots and tables</h2>
<p>Tables and plots can be saved with the <code><a href="reference/export.html">export()</a></code> function. This functions allows you to save plots and tables into your local drive.</p>
<p>One again, adding an additional forward-Pipe operator we can write:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op">%&gt;%</span>
    <span class="fu"><a href="reference/hrvar_count.html">analysis_scope</a></span><span class="op">(</span>hrvar <span class="op">=</span> <span class="st">"Organization"</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu"><a href="reference/export.html">export</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="four-steps-from-data-to-output" class="section level2">
<h2 class="hasAnchor">
<a href="#four-steps-from-data-to-output" class="anchor"></a>Four steps from data to output</h2>
<p>The examples above illustrate how the use of <strong>wpa</strong> can be summarized in 4 simple steps: Load the package, read-in query data, run functions and export results. The script below illustrates this functionality:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/microsoft/wpa">wpa</a></span><span class="op">)</span> <span class="co"># Step 1</span>

<span class="va">person_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/import_wpa.html">import_wpa</a></span><span class="op">(</span><span class="st">"myquery.csv"</span><span class="op">)</span> <span class="co"># Step 2</span>

<span class="va">person_data</span> <span class="op">%&gt;%</span> <span class="fu"><a href="reference/hrvar_count.html">analysis_scope</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Step 3</span>

<span class="va">person_data</span> <span class="op">%&gt;%</span>
    <span class="fu"><a href="reference/hrvar_count.html">analysis_scope</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu"><a href="reference/export.html">export</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Step 4</span></code></pre></div>
</div>
<div id="ready-to-learn-more" class="section level2">
<h2 class="hasAnchor">
<a href="#ready-to-learn-more" class="anchor"></a>Ready to learn more?</h2>
<p>Let’s go to the <a href="analyst_guide_summary.html"><strong>Summary Functions</strong></a> section, to see how we can analyse different Workplace Analytics Metrics in a similar way.</p>
</div>
<div id="gallery" class="section level2">
<h2 class="hasAnchor">
<a href="#gallery" class="anchor"></a>Gallery</h2>


<style>
div.gallery {
  margin: 5px;
  border: 1px solid #ccc;
  float: left;
  width: 180px;
}

div.gallery:hover {
  border: 1px solid #777;
}

div.gallery img {
  width: 100%;
  height: auto;
}

div.desc {
  padding: 15px;
  text-align: center;
}
</style>
<div class="gallery">
<a target="_blank" href="https://raw.githubusercontent.com/microsoft/wpa/main/.github/gallery/analysis_scope.png"> <img src="https://raw.githubusercontent.com/microsoft/wpa/main/.github/gallery/analysis_scope.png" alt="Analysis Scope" width="600" height="400"></a>
<div class="desc">
analysis_scope()
</div>
</div>


</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>



      <footer>
      <p>
  This website was automatically generated by the
  <a href=\"https://github.com/r-lib/pkgdown\">pkgdown</a> package.
  Websites like this one are a customary, prevalent, and widely-expected
  community standard for the documentation of
  publicly-available R packages.
  Copyright is the same as for the
  <a href=\"https://github.com/microsoft/wpa\"></a> package itself.
</p>

      </footer>
   </div>

  


  </body>
</html>


