<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Identifying noteworthy groups with rank functions • wpa</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><script src="../extra.js"></script><meta property="og:title" content="Identifying noteworthy groups with rank functions">
<meta property="og:description" content="wpa">
<meta property="og:image" content="https://microsoft.github.io/wpa/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">wpa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Analyst Guide
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../analyst_guide.html">Introduction</a>
    </li>
    <li>
      <a href="../analyst_guide_getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="../analyst_guide_data_validation.html">Data Validation</a>
    </li>
    <li>
      <a href="../analyst_guide_summary.html">Summary Functions</a>
    </li>
    <li>
      <a href="../analyst_guide_distribution.html">Distribution Functions</a>
    </li>
    <li>
      <a href="../analyst_guide_trend.html">Trend Functions</a>
    </li>
    <li>
      <a href="../analyst_guide_network.html">Network Functions</a>
    </li>
    <li>
      <a href="../analyst_guide_reports.html">Reports</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html">Functions</a>
    </li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
    <li>
      <a href="../faq.html">FAQ</a>
    </li>
  </ul>
</li>
<li>
  <a href="../playbook_intro.html">Playbook</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Contribute
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../CONTRIBUTING.html">Contributor Guide</a>
    </li>
    <li>
      <a href="../developer_guide.html">Developer Guide</a>
    </li>
    <li>
      <a href="../reporting_security_issues.html">Reporting Security Issues</a>
    </li>
    <li>
      <a href="../package_structure.html">Package Structure</a>
    </li>
    <li>
      <a href="../contributors.html">Contributors</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/intro-to-wpa.html">Introduction to {wpa}</a>
    </li>
    <li>
      <a href="../articles/text-mining-capabilities.html">Text-mining Meeting Subject lines</a>
    </li>
    <li>
      <a href="../articles/best-practices.html">Best Practices when using wpa</a>
    </li>
    <li>
      <a href="../articles/IV-report.html">Introduction to Information Value</a>
    </li>
    <li>
      <a href="../articles/Change-over-time.html">Identifying changes over time</a>
    </li>
    <li>
      <a href="../articles/profiles-with-rank.html">Identifying noteworthy groups with rank functions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/microsoft/wpa/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="profiles-with-rank_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Identifying noteworthy groups with rank functions</h1>
                        <h4 class="author">Carlos Morales-Torrado</h4>
            
            <h4 class="date">2021-06-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/microsoft/wpa/blob/master/vignettes/profiles-with-rank.Rmd"><code>vignettes/profiles-with-rank.Rmd</code></a></small>
      <div class="hidden name"><code>profiles-with-rank.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This article introduces the <strong>rank functions</strong> that are included in the <a href="https://microsoft.github.io/wpa"><strong>wpa</strong> R package</a>. These are powerful functions that scan a full person query dataset and automatically identify noteworthy groups, i.e. those exhibiting the highest or lowest values for a metric in the population.</p>
<p>Rank functions can uncover previously unknown patterns and interesting trends, without analysts having to manually slice the data across multiple attributes. You can think of them as a tool for <em>automatic group exploration</em> - an efficient method for identifying the top and bottom group of employees without manually reviewing all the possible organisational divisions.</p>
<p>Additionally, these functions can reveal what combination of attributes best describe a group that shows a specific behaviour (i.e for example, what organisational attributes represent employees suffering from excessive workload, receiving insufficient coaching, etc). As business leaders often want to develop targeted interventions to address specific issues, these functions can be a great way to inform action planning and transformation initiatives.</p>
<p>This article is divided in four sections. After this introduction, section two describes rank functions and show how them can be used with person query outputs. In the following section, we explore their use for profiling - i.e. to identify in which groups a specific behaviour is most common. The fourth and final section includes a list of additional use cases that can benefit from this method.</p>
</div>
<div id="rank-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#rank-functions" class="anchor"></a>Rank Functions</h2>
<div id="baseline-analysis" class="section level3">
<h3 class="hasAnchor">
<a href="#baseline-analysis" class="anchor"></a>Baseline analysis</h3>
<p>To get started, let’s open a new session in R and load the <a href="https://microsoft.github.io/wpa"><strong>wpa</strong> R package</a>. We will also use <strong>dplyr</strong> to facilitate data manipulation:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/microsoft/wpa/">wpa</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></code></pre></div>
<p>We will use the <code>sq_data</code> demo dataset, which contains a weekly person query output, and apply the <code><a href="../reference/collaboration_rank.html">collaboration_rank()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op">%&gt;%</span> 
    <span class="fu"><a href="../reference/collaboration_rank.html">collaboration_rank</a></span><span class="op">(</span>return <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 30 × 4</span>
<span class="co">#&gt;    hrvar            group                Collaboration_hours     n</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                              &lt;dbl&gt; &lt;int&gt;</span>
<span class="co">#&gt;  1 FunctionType     Sales                               31.0    82</span>
<span class="co">#&gt;  2 Organization     Inventory Management                26.2    60</span>
<span class="co">#&gt;  3 FunctionType     Marketing                           25.8   207</span>
<span class="co">#&gt;  4 Organization     Human Resources                     24.4    71</span>
<span class="co">#&gt;  5 Organization     IT-Corporate                        23.7    68</span>
<span class="co">#&gt;  6 Organization     G&amp;A South                           23.1    76</span>
<span class="co">#&gt;  7 Organization     Finance-East                        22.2    70</span>
<span class="co">#&gt;  8 LevelDesignation Manager                             21.5   333</span>
<span class="co">#&gt;  9 Organization     Finance-West                        20.6    73</span>
<span class="co">#&gt; 10 Organization     IT-East                             20.6    62</span>
<span class="co">#&gt; # … with 20 more rows</span></code></pre></div>
<p>The output table contains the results from the automatic group exploration. The rank function has taken all available organisational attributes in this dataset (<code>FunctionType</code>, <code>Organization</code>, <code>LevelDesignation</code>, and <code>IsActive</code>) and calculated the average collaboration hours for each group within each organisational attribute. The table shows the analysed results for all groups, ranked from highest to lowest.</p>
<p>To view the entire table, we can add the function <code>print</code> to the command above.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op">%&gt;%</span> 
    <span class="fu"><a href="../reference/collaboration_rank.html">collaboration_rank</a></span><span class="op">(</span>return <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span> <span class="op">%&gt;%</span>  
    <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 30 × 4</span>
<span class="co">#&gt;    hrvar            group                Collaboration_hours     n</span>
<span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;                              &lt;dbl&gt; &lt;int&gt;</span>
<span class="co">#&gt;  1 FunctionType     Sales                               31.0    82</span>
<span class="co">#&gt;  2 Organization     Inventory Management                26.2    60</span>
<span class="co">#&gt;  3 FunctionType     Marketing                           25.8   207</span>
<span class="co">#&gt;  4 Organization     Human Resources                     24.4    71</span>
<span class="co">#&gt;  5 Organization     IT-Corporate                        23.7    68</span>
<span class="co">#&gt;  6 Organization     G&amp;A South                           23.1    76</span>
<span class="co">#&gt;  7 Organization     Finance-East                        22.2    70</span>
<span class="co">#&gt;  8 LevelDesignation Manager                             21.5   333</span>
<span class="co">#&gt;  9 Organization     Finance-West                        20.6    73</span>
<span class="co">#&gt; 10 Organization     IT-East                             20.6    62</span>
<span class="co">#&gt; 11 LevelDesignation Senior IC                           20.1   103</span>
<span class="co">#&gt; 12 IsActive         TRUE                                19.9  1034</span>
<span class="co">#&gt; 13 LevelDesignation Junior IC                           19.6   105</span>
<span class="co">#&gt; 14 FunctionType     Engineering                         19.6    93</span>
<span class="co">#&gt; 15 FunctionType     Operations                          19.1   176</span>
<span class="co">#&gt; 16 LevelDesignation Executive                           19.0     6</span>
<span class="co">#&gt; 17 Organization     G&amp;A Central                         18.9    57</span>
<span class="co">#&gt; 18 LevelDesignation Director                            18.9    68</span>
<span class="co">#&gt; 19 LevelDesignation Support                             18.8   419</span>
<span class="co">#&gt; 20 Organization     Finance-South                       18.6    81</span>
<span class="co">#&gt; 21 Organization     Facilities                          18.6    72</span>
<span class="co">#&gt; 22 Organization     Customer Service                    18.3    61</span>
<span class="co">#&gt; 23 Organization     Financial Planning                  17.1    75</span>
<span class="co">#&gt; 24 FunctionType     Finance                             16.5   146</span>
<span class="co">#&gt; 25 Organization     Finance-Corporate                   16.3    68</span>
<span class="co">#&gt; 26 Organization     G&amp;A East                            16.2    65</span>
<span class="co">#&gt; 27 FunctionType     G_and_A                             16.0   128</span>
<span class="co">#&gt; 28 FunctionType     R_and_D                             15.2   151</span>
<span class="co">#&gt; 29 FunctionType     IT                                  15.0    51</span>
<span class="co">#&gt; 30 Organization     Biz Dev                             14.7    75</span></code></pre></div>
<p>This analysis shows us that the 82 employees labelled as <code>"FunctionType = "Sales"</code> have the highest collaboration hours, with a weekly average of 31 hours. In second place, there are 60 individuals in <code>Organization = "Inventory Management"</code> with 26.2 hours. On the lower end, the 75 employees labelled as <code>Organization = "Biz Dev"</code> appear to have the lowest collaboration time.</p>
<p>This output is useful to identify groups that are worth investigating (e.g. employees labelled as <code>"FunctionType = Sales"</code>). It also reveals that splits by <code>FunctionType</code> and <code>Organization</code> are more interesting than those by <code>LevelDesignation</code>, as they have more variation; all groups in <code>LevelDesignation</code> have similar levels of collaboration, between 18 and 22 hours a week. Rank functions can also display this information in visual form. We can get that by changing the <code>return</code> argument from <code>"table"</code> to <code>"plot"</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op">%&gt;%</span> 
    <span class="fu"><a href="../reference/collaboration_rank.html">collaboration_rank</a></span><span class="op">(</span>return <span class="op">=</span> <span class="st">"plot"</span><span class="op">)</span></code></pre></div>
<p><img src="profiles-with-rank_files/figure-html/unnamed-chunk-4-1.png" width="768"></p>
<p>This plot contains the same information as the table above. Each row corresponds to a different organisational attribute and the bubbles show how the population is split across different subgroups, where bubble size is proportional to the number of individuals. The five groups in orange are clearly the ones spending most time in collaboration, with Sales being far ahead of the other groups. Keep in mind that each row of bubbles represents a different way to slice the same population, so groups across rows are not mutually exclusive.</p>
</div>
<div id="combining-two-hr-variables" class="section level3">
<h3 class="hasAnchor">
<a href="#combining-two-hr-variables" class="anchor"></a>Combining two HR variables</h3>
<p>In our baseline analysis, we uncovered that the 82 employees labelled as <code>FunctionType = "Sales"</code> have the highest average collaboration hours. However, it is likely that some employees in this group are more affected than others. Furthermore, there may be pockets in other parts of this company that may be experiencing similar levels of collaboration overload, but that are hidden given the structure of the organisational data (for example, the managers within a particular business unit).</p>
<p>The rank function includes an additional mode called “combine” that allows us to take our analysis one step further by performing on two HR variables the same analysis in a combinatorial manner:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op">%&gt;%</span> 
    <span class="fu"><a href="../reference/collaboration_rank.html">collaboration_rank</a></span><span class="op">(</span>return <span class="op">=</span> <span class="st">"table"</span>, mode <span class="op">=</span> <span class="st">"combine"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 382 × 4</span>
<span class="co">#&gt;    hrvar    group                                       Collaboration_hou…     n</span>
<span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;                                                    &lt;dbl&gt; &lt;int&gt;</span>
<span class="co">#&gt;  1 Combined [FunctionType] Sales [LevelDesignation] Ma…               33.7    28</span>
<span class="co">#&gt;  2 Combined [FunctionType] Sales [LevelDesignation] Ju…               31.0    13</span>
<span class="co">#&gt;  3 Combined [FunctionType] Sales [LevelDesignation] Su…               29.5    24</span>
<span class="co">#&gt;  4 Combined [FunctionType] Sales [LevelDesignation] Di…               29.2     6</span>
<span class="co">#&gt;  5 Combined [FunctionType] Sales [LevelDesignation] Se…               28.2    11</span>
<span class="co">#&gt;  6 Combined [FunctionType] Marketing [LevelDesignation…               27.4    72</span>
<span class="co">#&gt;  7 Combined [FunctionType] Marketing [LevelDesignation…               25.9    17</span>
<span class="co">#&gt;  8 Combined [FunctionType] Marketing [LevelDesignation…               25.1    14</span>
<span class="co">#&gt;  9 Combined [FunctionType] Marketing [LevelDesignation…               25.1    81</span>
<span class="co">#&gt; 10 Combined [FunctionType] Marketing [LevelDesignation…               24.3    22</span>
<span class="co">#&gt; # … with 372 more rows</span></code></pre></div>
<p>The output table contains similar results from the group exploration above, but with more granularity. The function has automatically created smaller groups by combining two distinct groups from the organisational attributes in scope. In this case, it seems that the 28 managers in Sales are the worst affected group, with a weekly average of 33.7 hours in collaboration per week - that sounds like a lot of meetings!</p>
</div>
<div id="additional-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#additional-functions" class="anchor"></a>Additional functions</h3>
<p>So far, we have limited our analysis to <code><a href="../reference/collaboration_rank.html">collaboration_rank()</a></code>, which only performs the analysis on the metric <code>Collaboration_hours</code>. However, the <a href="https://microsoft.github.io/wpa"><strong>wpa</strong> R package</a> includes many other rank functions for key Workplace Analytics metrics:</p>
<ul>
<li><p><code><a href="../reference/afterhours_rank.html">afterhours_rank()</a></code> - for <code>After_hours_collaboration_hours</code></p></li>
<li><p><code><a href="../reference/email_rank.html">email_rank()</a></code> - for <code>Email_hours</code></p></li>
<li><p><code><a href="../reference/meeting_rank.html">meeting_rank()</a></code> - for <code>Meeting_hours</code></p></li>
<li><p><code><a href="../reference/one2one_rank.html">one2one_rank()</a></code> - for <code>Meeting_hours_with_manager_1_on_1</code></p></li>
<li><p><code><a href="../reference/workloads_rank.html">workloads_rank()</a></code> - for <code>Workweek_span</code></p></li>
</ul>
<p>Additionally, if you want to apply this to any other numeric variable of your choice, you can use the more general version below by specifying the metric as a string with the argument <code>metric</code>:</p>
<ul>
<li><code><a href="../reference/create_rank.html">create_rank()</a></code></li>
</ul>
</div>
</div>
<div id="using-rank-functions-for-profiling" class="section level2">
<h2 class="hasAnchor">
<a href="#using-rank-functions-for-profiling" class="anchor"></a>Using rank functions for profiling</h2>
<p>In the previous section, we explored how rank functions can help analysts uncover interesting insights, without the need of manually slicing the data across multiple attributes.</p>
<p>Rank functions have an additional use: they can help us identify <strong>what combination of attributes best describe a group that shows a given behaviour</strong>. For example, we may be concerned about individuals that are experiencing both a heavy collaboration load (more than 20 hours a week on average) and long workweeks (workweek span of over 60 hours), and would like to know where in the organisations these individuals sit.</p>
<p>To answer that question, let’s create a new numeric custom metric (i.e. a binary flag that is only either <code>1</code> or <code>0</code>) and then apply the <code><a href="../reference/create_rank.html">create_rank()</a></code> function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op">%&gt;%</span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>At_risk <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">Collaboration_hours</span> <span class="op">&gt;</span> <span class="fl">20</span> <span class="op">&amp;</span>  <span class="va">Workweek_span</span> <span class="op">&gt;</span> <span class="fl">60</span> , <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu"><a href="../reference/create_rank.html">create_rank</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"At_risk"</span>, mode <span class="op">=</span> <span class="st">"combine"</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 382 × 4</span>
<span class="co">#&gt;    hrvar    group                                                 At_risk     n</span>
<span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;                                                   &lt;dbl&gt; &lt;int&gt;</span>
<span class="co">#&gt;  1 Combined [FunctionType] Sales [LevelDesignation] Junior IC       0.314    13</span>
<span class="co">#&gt;  2 Combined [FunctionType] Sales [LevelDesignation] Manager         0.286    28</span>
<span class="co">#&gt;  3 Combined [FunctionType] Marketing [LevelDesignation] Director    0.280    14</span>
<span class="co">#&gt;  4 Combined [FunctionType] Sales [LevelDesignation] Support         0.272    24</span>
<span class="co">#&gt;  5 Combined [FunctionType] Sales [LevelDesignation] Director        0.269     6</span>
<span class="co">#&gt;  6 Combined [FunctionType] Sales [LevelDesignation] Senior IC       0.266    11</span>
<span class="co">#&gt;  7 Combined [FunctionType] Marketing [LevelDesignation] Manager     0.254    72</span>
<span class="co">#&gt;  8 Combined [FunctionType] Marketing [LevelDesignation] Senior IC   0.252    22</span>
<span class="co">#&gt;  9 Combined [FunctionType] Marketing [LevelDesignation] Support     0.232    81</span>
<span class="co">#&gt; 10 Combined [FunctionType] Marketing [LevelDesignation] Junior IC   0.190    17</span>
<span class="co">#&gt; # … with 372 more rows</span></code></pre></div>
<p>The custom <code>At_risk</code> variable identifies whether any particular person-week exhibits high collaboration hours and long workweeks. By combining this with <code><a href="../reference/create_rank.html">create_rank()</a></code>, the analysis reveals that the combination of heavy collaboration load plus long workweeks is most prevalent among the 13 employees in <code>FunctionType = "Sales"</code> and <code>LevelDesignation = "Junior IC"</code>. In other words, the average employee of these groups experience high collaboration load and long workweeks 31% of the time.</p>
</div>
<div id="conclusion-use-cases-and-other-applications" class="section level2">
<h2 class="hasAnchor">
<a href="#conclusion-use-cases-and-other-applications" class="anchor"></a>Conclusion, use cases and other applications</h2>
<p>In this article, we have shown how <strong>rank functions</strong> can be a powerful tool to both uncover previously unknown patterns and to profile the groups that are experiencing a certain behaviour. In the context of Workplace Analytics, we see a wide range of applications in the areas of wellbeing, ways of working, and sales excellence. Examples include:</p>
<ul>
<li>
<strong>Workload:</strong> Identifying groups with excessive collaboration and long workdays</li>
<li>
<strong>Freedom to disconnect:</strong> Identifying groups with always-on behaviours</li>
<li>
<strong>Coaching:</strong> Identifying groups with insufficient coaching and manager time</li>
<li>
<strong>Exposure:</strong> Identifying groups with insufficient skip-level exposure</li>
<li>
<strong>Isolation:</strong> Identifying groups with insufficient cross-team collaboration</li>
<li>
<strong>Sales performance:</strong> Identifying groups with insufficient external collaboration</li>
</ul>
</div>
<div id="feedback" class="section level2">
<h2 class="hasAnchor">
<a href="#feedback" class="anchor"></a>Feedback</h2>
<p>We hope you found this article useful!</p>
<p>If you have any suggestions or feedback, please submit an issue at <a href="https://github.com/microsoft/wpa/issues" class="uri">https://github.com/microsoft/wpa/issues</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><p>
  This website was automatically generated by the
  <a href="%5C%22https://github.com/r-lib/pkgdown%5C%22">pkgdown</a> package.
  Websites like this one are a customary, prevalent, and widely-expected
  community standard for the documentation of
  publicly-available R packages.
  Copyright is the same as for the
  <a href="%5C%22https://github.com/microsoft/wpa%5C%22"></a> package itself.
</p>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'f45eacc22edb0c386f1f5b9bb89f76be',
    indexName: 'wpa',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
