<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Identifying noteworthy groups with rank functions • wpa</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><script src="../extra.js"></script><meta property="og:title" content="Identifying noteworthy groups with rank functions">
<meta property="og:description" content="wpa">
<meta property="og:image" content="https://microsoft.github.io/wpa/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">wpa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.7.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Analyst Guide
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../analyst_guide.html">Introduction</a>
    </li>
    <li>
      <a href="../analyst_guide_getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="../analyst_guide_data_validation.html">Data Validation</a>
    </li>
    <li>
      <a href="../analyst_guide_summary.html">Summary Functions</a>
    </li>
    <li>
      <a href="../analyst_guide_distribution.html">Distribution Functions</a>
    </li>
    <li>
      <a href="../analyst_guide_trend.html">Trend Functions</a>
    </li>
    <li>
      <a href="../articles/network-analysis.html">Network Functions</a>
    </li>
    <li>
      <a href="../analyst_guide_reports.html">Reports</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html">Functions</a>
    </li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
    <li>
      <a href="../faq.html">FAQ</a>
    </li>
  </ul>
</li>
<li>
  <a href="../playbook_intro.html">Playbook</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Contribute
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../CONTRIBUTING.html">Contributor Guide</a>
    </li>
    <li>
      <a href="../developer_guide.html">Developer Guide</a>
    </li>
    <li>
      <a href="../reporting_security_issues.html">Reporting Security Issues</a>
    </li>
    <li>
      <a href="../package_structure.html">Package Structure</a>
    </li>
    <li>
      <a href="../contributors.html">Contributors</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/intro-to-wpa.html">Introduction to {wpa}</a>
    </li>
    <li>
      <a href="../articles/text-mining-capabilities.html">Text-mining Meeting Subject lines</a>
    </li>
    <li>
      <a href="../articles/best-practices.html">Best Practices when using wpa</a>
    </li>
    <li>
      <a href="../articles/IV-report.html">Introduction to Information Value</a>
    </li>
    <li>
      <a href="../articles/Change-over-time.html">Identifying changes over time</a>
    </li>
    <li>
      <a href="../articles/profiles-with-rank.html">Identifying noteworthy groups with rank functions</a>
    </li>
    <li>
      <a href="../articles/network-analysis.html">Introduction to Organizational Network Analysis</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/microsoft/wpa/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="profiles-with-rank_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Identifying noteworthy groups with rank functions</h1>
                        <h4 data-toc-skip class="author">Carlos Morales-Torrado</h4>
            
            <h4 data-toc-skip class="date">2021-06-30</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/microsoft/wpa/blob/HEAD/vignettes/profiles-with-rank.Rmd" class="external-link"><code>vignettes/profiles-with-rank.Rmd</code></a></small>
      <div class="hidden name"><code>profiles-with-rank.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This article introduces the <strong>rank functions</strong> that are included in the <a href="https://microsoft.github.io/wpa"><strong>wpa</strong> R package</a>. These are powerful functions that scan a full person query dataset and automatically identify noteworthy groups, i.e. those exhibiting the highest or lowest values for a metric in the population.</p>
<p>Rank functions can uncover previously unknown patterns and interesting trends, without analysts having to manually slice the data across multiple attributes. You can think of them as a tool for <em>automatic group exploration</em> - an efficient method for identifying the top and bottom group of employees without manually reviewing all the possible organisational divisions.</p>
<p>Additionally, these functions can reveal what combination of attributes best describe a group that shows a specific behaviour (i.e for example, what organisational attributes represent employees suffering from excessive workload, receiving insufficient coaching, etc). As business leaders often want to develop targeted interventions to address specific issues, these functions can be a great way to inform action planning and transformation initiatives.</p>
<p>This article is divided in four sections. After this introduction, section two describes rank functions and show how them can be used with person query outputs. In the following section, we explore their use for profiling - i.e. to identify in which groups a specific behaviour is most common. The fourth and final section includes a list of additional use cases that can benefit from this method.</p>
</div>
<div class="section level2">
<h2 id="rank-functions">Rank Functions<a class="anchor" aria-label="anchor" href="#rank-functions"></a>
</h2>
<div class="section level3">
<h3 id="baseline-analysis">Baseline analysis<a class="anchor" aria-label="anchor" href="#baseline-analysis"></a>
</h3>
<p>To get started, let’s open a new session in R and load the <a href="https://microsoft.github.io/wpa"><strong>wpa</strong> R package</a>. We will also use <strong>dplyr</strong> to facilitate data manipulation:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/microsoft/wpa/" class="external-link">wpa</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></code></pre></div>
<p>We will use the <code>sq_data</code> demo dataset, which contains a weekly person query output, and apply the <code><a href="../reference/collaboration_rank.html">collaboration_rank()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/collaboration_rank.html">collaboration_rank</a></span><span class="op">(</span>return <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 30 × 4</span></span>
<span class="co">#&gt;    hrvar            group                Collaboration_hours     n</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FunctionType     Sales                               31.0    82</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Organization     Inventory Management                26.2    60</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FunctionType     Marketing                           25.8   207</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Organization     Human Resources                     24.4    71</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Organization     IT-Corporate                        23.7    68</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Organization     G&amp;A South                           23.1    76</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Organization     Finance-East                        22.2    70</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> LevelDesignation Manager                             21.5   333</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Organization     Finance-West                        20.6    73</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Organization     IT-East                             20.6    62</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 20 more rows</span></span></code></pre></div>
<p>The output table contains the results from the automatic group exploration. The rank function has taken all available organisational attributes in this dataset (<code>FunctionType</code>, <code>Organization</code>, <code>LevelDesignation</code>, and <code>IsActive</code>) and calculated the average collaboration hours for each group within each organisational attribute. The table shows the analysed results for all groups, ranked from highest to lowest.</p>
<p>To view the entire table, we can add the function <code>print</code> to the command above.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/collaboration_rank.html">collaboration_rank</a></span><span class="op">(</span>return <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>  
    <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 30 × 4</span></span>
<span class="co">#&gt;    hrvar            group                Collaboration_hours     n</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> FunctionType     Sales                               31.0    82</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Organization     Inventory Management                26.2    60</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> FunctionType     Marketing                           25.8   207</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Organization     Human Resources                     24.4    71</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Organization     IT-Corporate                        23.7    68</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Organization     G&amp;A South                           23.1    76</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Organization     Finance-East                        22.2    70</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> LevelDesignation Manager                             21.5   333</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Organization     Finance-West                        20.6    73</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Organization     IT-East                             20.6    62</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">11</span> LevelDesignation Senior IC                           20.1   103</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">12</span> IsActive         TRUE                                19.9  <span style="text-decoration: underline;">1</span>034</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">13</span> LevelDesignation Junior IC                           19.6   105</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">14</span> FunctionType     Engineering                         19.6    93</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">15</span> FunctionType     Operations                          19.1   176</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">16</span> LevelDesignation Executive                           19.0     6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">17</span> Organization     G&amp;A Central                         18.9    57</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">18</span> LevelDesignation Director                            18.9    68</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">19</span> LevelDesignation Support                             18.8   419</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">20</span> Organization     Finance-South                       18.6    81</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">21</span> Organization     Facilities                          18.6    72</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">22</span> Organization     Customer Service                    18.3    61</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">23</span> Organization     Financial Planning                  17.1    75</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">24</span> FunctionType     Finance                             16.5   146</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">25</span> Organization     Finance-Corporate                   16.3    68</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">26</span> Organization     G&amp;A East                            16.2    65</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">27</span> FunctionType     G_and_A                             16.0   128</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">28</span> FunctionType     R_and_D                             15.2   151</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">29</span> FunctionType     IT                                  15.0    51</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">30</span> Organization     Biz Dev                             14.7    75</span></code></pre></div>
<p>This analysis shows us that the 82 employees labelled as <code>"FunctionType = "Sales"</code> have the highest collaboration hours, with a weekly average of 31 hours. In second place, there are 60 individuals in <code>Organization = "Inventory Management"</code> with 26.2 hours. On the lower end, the 75 employees labelled as <code>Organization = "Biz Dev"</code> appear to have the lowest collaboration time.</p>
<p>This output is useful to identify groups that are worth investigating (e.g. employees labelled as <code>"FunctionType = Sales"</code>). It also reveals that splits by <code>FunctionType</code> and <code>Organization</code> are more interesting than those by <code>LevelDesignation</code>, as they have more variation; all groups in <code>LevelDesignation</code> have similar levels of collaboration, between 18 and 22 hours a week. Rank functions can also display this information in visual form. We can get that by changing the <code>return</code> argument from <code>"table"</code> to <code>"plot"</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/collaboration_rank.html">collaboration_rank</a></span><span class="op">(</span>return <span class="op">=</span> <span class="st">"plot"</span><span class="op">)</span></code></pre></div>
<p><img src="profiles-with-rank_files/figure-html/unnamed-chunk-4-1.png" width="768"></p>
<p>This plot contains the same information as the table above. Each row corresponds to a different organisational attribute and the bubbles show how the population is split across different subgroups, where bubble size is proportional to the number of individuals. The five groups in orange are clearly the ones spending most time in collaboration, with Sales being far ahead of the other groups. Keep in mind that each row of bubbles represents a different way to slice the same population, so groups across rows are not mutually exclusive.</p>
</div>
<div class="section level3">
<h3 id="combining-two-hr-variables">Combining two HR variables<a class="anchor" aria-label="anchor" href="#combining-two-hr-variables"></a>
</h3>
<p>In our baseline analysis, we uncovered that the 82 employees labelled as <code>FunctionType = "Sales"</code> have the highest average collaboration hours. However, it is likely that some employees in this group are more affected than others. Furthermore, there may be pockets in other parts of this company that may be experiencing similar levels of collaboration overload, but that are hidden given the structure of the organisational data (for example, the managers within a particular business unit).</p>
<p>The rank function includes an additional mode called “combine” that allows us to take our analysis one step further by performing on two HR variables the same analysis in a combinatorial manner:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="../reference/collaboration_rank.html">collaboration_rank</a></span><span class="op">(</span>return <span class="op">=</span> <span class="st">"table"</span>, mode <span class="op">=</span> <span class="st">"combine"</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 382 × 4</span></span>
<span class="co">#&gt;    hrvar    group                                         Collaboration_h…     n</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Combined [FunctionType] Sales [LevelDesignation] Mana…             33.7    28</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Combined [FunctionType] Sales [LevelDesignation] Juni…             31.0    13</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Combined [FunctionType] Sales [LevelDesignation] Supp…             29.5    24</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Combined [FunctionType] Sales [LevelDesignation] Dire…             29.2     6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Combined [FunctionType] Sales [LevelDesignation] Seni…             28.2    11</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Combined [FunctionType] Marketing [LevelDesignation] …             27.4    72</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Combined [FunctionType] Marketing [LevelDesignation] …             25.9    17</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Combined [FunctionType] Marketing [LevelDesignation] …             25.1    14</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Combined [FunctionType] Marketing [LevelDesignation] …             25.1    81</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Combined [FunctionType] Marketing [LevelDesignation] …             24.3    22</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 372 more rows</span></span></code></pre></div>
<p>The output table contains similar results from the group exploration above, but with more granularity. The function has automatically created smaller groups by combining two distinct groups from the organisational attributes in scope. In this case, it seems that the 28 managers in Sales are the worst affected group, with a weekly average of 33.7 hours in collaboration per week - that sounds like a lot of meetings!</p>
</div>
<div class="section level3">
<h3 id="additional-functions">Additional functions<a class="anchor" aria-label="anchor" href="#additional-functions"></a>
</h3>
<p>So far, we have limited our analysis to <code><a href="../reference/collaboration_rank.html">collaboration_rank()</a></code>, which only performs the analysis on the metric <code>Collaboration_hours</code>. However, the <a href="https://microsoft.github.io/wpa"><strong>wpa</strong> R package</a> includes many other rank functions for key Workplace Analytics metrics:</p>
<ul>
<li><p><code><a href="../reference/afterhours_rank.html">afterhours_rank()</a></code> - for <code>After_hours_collaboration_hours</code></p></li>
<li><p><code><a href="../reference/email_rank.html">email_rank()</a></code> - for <code>Email_hours</code></p></li>
<li><p><code><a href="../reference/meeting_rank.html">meeting_rank()</a></code> - for <code>Meeting_hours</code></p></li>
<li><p><code><a href="../reference/one2one_rank.html">one2one_rank()</a></code> - for <code>Meeting_hours_with_manager_1_on_1</code></p></li>
<li><p><code><a href="../reference/workloads_rank.html">workloads_rank()</a></code> - for <code>Workweek_span</code></p></li>
</ul>
<p>Additionally, if you want to apply this to any other numeric variable of your choice, you can use the more general version below by specifying the metric as a string with the argument <code>metric</code>:</p>
<ul>
<li><code><a href="../reference/create_rank.html">create_rank()</a></code></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="using-rank-functions-for-profiling">Using rank functions for profiling<a class="anchor" aria-label="anchor" href="#using-rank-functions-for-profiling"></a>
</h2>
<p>In the previous section, we explored how rank functions can help analysts uncover interesting insights, without the need of manually slicing the data across multiple attributes.</p>
<p>Rank functions have an additional use: they can help us identify <strong>what combination of attributes best describe a group that shows a given behaviour</strong>. For example, we may be concerned about individuals that are experiencing both a heavy collaboration load (more than 20 hours a week on average) and long workweeks (workweek span of over 60 hours), and would like to know where in the organisations these individuals sit.</p>
<p>To answer that question, let’s create a new numeric custom metric (i.e. a binary flag that is only either <code>1</code> or <code>0</code>) and then apply the <code><a href="../reference/create_rank.html">create_rank()</a></code> function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sq_data</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>At_risk <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">Collaboration_hours</span> <span class="op">&gt;</span> <span class="fl">20</span> <span class="op">&amp;</span>  <span class="va">Workweek_span</span> <span class="op">&gt;</span> <span class="fl">60</span> , <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="../reference/create_rank.html">create_rank</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"At_risk"</span>, mode <span class="op">=</span> <span class="st">"combine"</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 382 × 4</span></span>
<span class="co">#&gt;    hrvar    group                                                 At_risk     n</span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Combined [FunctionType] Sales [LevelDesignation] Junior IC       0.314    13</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Combined [FunctionType] Sales [LevelDesignation] Manager         0.286    28</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Combined [FunctionType] Marketing [LevelDesignation] Director    0.280    14</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Combined [FunctionType] Sales [LevelDesignation] Support         0.272    24</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Combined [FunctionType] Sales [LevelDesignation] Director        0.269     6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Combined [FunctionType] Sales [LevelDesignation] Senior IC       0.266    11</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Combined [FunctionType] Marketing [LevelDesignation] Manager     0.254    72</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Combined [FunctionType] Marketing [LevelDesignation] Senior IC   0.252    22</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Combined [FunctionType] Marketing [LevelDesignation] Support     0.232    81</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Combined [FunctionType] Marketing [LevelDesignation] Junior IC   0.190    17</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 372 more rows</span></span></code></pre></div>
<p>The custom <code>At_risk</code> variable identifies whether any particular person-week exhibits high collaboration hours and long workweeks. By combining this with <code><a href="../reference/create_rank.html">create_rank()</a></code>, the analysis reveals that the combination of heavy collaboration load plus long workweeks is most prevalent among the 13 employees in <code>FunctionType = "Sales"</code> and <code>LevelDesignation = "Junior IC"</code>. In other words, the average employee of these groups experience high collaboration load and long workweeks 31% of the time.</p>
</div>
<div class="section level2">
<h2 id="conclusion-use-cases-and-other-applications">Conclusion, use cases and other applications<a class="anchor" aria-label="anchor" href="#conclusion-use-cases-and-other-applications"></a>
</h2>
<p>In this article, we have shown how <strong>rank functions</strong> can be a powerful tool to both uncover previously unknown patterns and to profile the groups that are experiencing a certain behaviour. In the context of Workplace Analytics, we see a wide range of applications in the areas of wellbeing, ways of working, and sales excellence. Examples include:</p>
<ul>
<li>
<strong>Workload:</strong> Identifying groups with excessive collaboration and long workdays</li>
<li>
<strong>Freedom to disconnect:</strong> Identifying groups with always-on behaviours</li>
<li>
<strong>Coaching:</strong> Identifying groups with insufficient coaching and manager time</li>
<li>
<strong>Exposure:</strong> Identifying groups with insufficient skip-level exposure</li>
<li>
<strong>Isolation:</strong> Identifying groups with insufficient cross-team collaboration</li>
<li>
<strong>Sales performance:</strong> Identifying groups with insufficient external collaboration</li>
</ul>
</div>
<div class="section level2">
<h2 id="feedback">Feedback<a class="anchor" aria-label="anchor" href="#feedback"></a>
</h2>
<p>We hope you found this article useful!</p>
<p>If you have any suggestions or feedback, please submit an issue at <a href="https://github.com/microsoft/wpa/issues" class="external-link uri">https://github.com/microsoft/wpa/issues</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Martin Chan, Carlos Morales.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'f45eacc22edb0c386f1f5b9bb89f76be',
    indexName: 'wpa',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
